!function(r){var s={};function a(t){if(s[t])return s[t].exports;var n=s[t]={i:t,l:!1,exports:{}};return r[t].call(n.exports,n,n.exports,a),n.l=!0,n.exports}a.m=r,a.c=s,a.d=function(r,s,t){a.o(r,s)||Object.defineProperty(r,s,{enumerable:!0,get:t})},a.r=function(r){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(r,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(r,"__esModule",{value:!0})},a.t=function(r,s){if(1&s&&(r=a(r)),8&s)return r;if(4&s&&"object"==typeof r&&r&&r.__esModule)return r;var t=Object.create(null);if(a.r(t),Object.defineProperty(t,"default",{enumerable:!0,value:r}),2&s&&"string"!=typeof r)for(var n in r)a.d(t,n,function(s){return r[s]}.bind(null,n));return t},a.n=function(r){var s=r&&r.__esModule?function(){return r.default}:function(){return r};return a.d(s,"a",s),s},a.o=function(r,s){return Object.prototype.hasOwnProperty.call(r,s)},a.p="",a(a.s=0)}([function(r,s,a){"use strict";a.r(s);const t={arr:[],bomb:30,size:15,flag:30},n=document.querySelector(".flagNumber"),i=document.querySelector(".sapperDiv");var e=function(){for(let r=0;r<t.arr.length;r++)for(let s=0;s<t.arr.length;s++){let a=0;r+1!=15&&t.arr[r+1][s].classList.contains("bomb")&&a++,s+1!=15&&t.arr[r][s+1].classList.contains("bomb")&&a++,r-1!=-1&&t.arr[r-1][s].classList.contains("bomb")&&a++,s-1!=-1&&t.arr[r][s-1].classList.contains("bomb")&&a++,r+1!=15&&s+1!=15&&t.arr[r+1][s+1].classList.contains("bomb")&&a++,r-1!=-1&&s-1!=-1&&t.arr[r-1][s-1].classList.contains("bomb")&&a++,r-1!=-1&&s+1!=15&&t.arr[r-1][s+1].classList.contains("bomb")&&a++,r+1!=15&&s-1!=-1&&t.arr[r+1][s-1].classList.contains("bomb")&&a++,t.arr[r][s].id=a,t.arr[r][s].classList.contains("bomb")&&(t.arr[r][s].id=0)}};var o=function(){for(let r=0;r<t.bomb;r++){t.size==t.arr.length&&(t.size=t.size-1);let s=+(0+Math.random()*t.size).toFixed(),a=+(0+Math.random()*t.size).toFixed();t.arr[s][a].classList.contains("bomb")?r--:t.arr[s][a].classList.add("bomb")}};var c=function(){document.querySelector(".sapperDiv").style.pointerEvents="none";let r=document.querySelectorAll(".bomb");for(let s in r){console.log(r[s]);let a=document.createElement("img");a.src="img/bomb.png",r[s].appendChild(a)}};var l=function r(s,a){s+1!=15&&(t.arr[s+1][a].classList.contains("flag")||0==t.arr[s+1][a].id&&"bomb"!=t.arr[s+1][a].classList.contains&&(t.arr[s+1][a].classList.contains("miss")||(t.arr[s+1][a].classList.add("miss"),r(s+1,a))),t.arr[s+1][a].id>0&&(t.arr[s+1][a].innerHTML=t.arr[s+1][a].id,t.arr[s+1][a].classList.add("number"))),a+1!=15&&(t.arr[s][a+1].classList.contains("flag")||0==t.arr[s][a+1].id&&"bomb"!=t.arr[s][a+1].classList.contains&&(t.arr[s][a+1].classList.contains("miss")||(t.arr[s][a+1].classList.add("miss"),r(s,a+1))),t.arr[s][a+1].id>0&&(t.arr[s][a+1].innerHTML=t.arr[s][a+1].id,t.arr[s][a+1].classList.add("number"))),s-1!=-1&&(t.arr[s-1][a].classList.contains("flag")||0==t.arr[s-1][a].id&&"bomb"!=t.arr[s-1][a].classList.contains&&(t.arr[s-1][a].classList.contains("miss")||(t.arr[s-1][a].classList.add("miss"),r(s-1,a))),t.arr[s-1][a].id>0&&(t.arr[s-1][a].innerHTML=t.arr[s-1][a].id,t.arr[s-1][a].classList.add("number"))),a-1!=-1&&(t.arr[s][a-1].classList.contains("flag")||0==t.arr[s][a-1].id&&"bomb"!=t.arr[s][a-1].classList.contains&&(t.arr[s][a-1].classList.contains("miss")||(t.arr[s][a-1].classList.add("miss"),r(s,a-1))),t.arr[s][a-1].id>0&&(t.arr[s][a-1].innerHTML=t.arr[s][a-1].id,t.arr[s][a-1].classList.add("number"))),s+1!=15&&a+1!=15&&(t.arr[s+1][a+1].classList.contains("flag")||0==t.arr[s+1][a+1].id&&"bomb"!=t.arr[s+1][a+1].classList.contains&&(t.arr[s+1][a+1].classList.contains("miss")||(t.arr[s+1][a+1].classList.add("miss"),r(s+1,a+1))),t.arr[s+1][a+1].id>0&&(t.arr[s+1][a+1].innerHTML=t.arr[s+1][a+1].id,t.arr[s+1][a+1].classList.add("number"))),s-1!=-1&&a-1!=-1&&(t.arr[s-1][a-1].classList.contains("flag")||0==t.arr[s-1][a-1].id&&"bomb"!=t.arr[s-1][a-1].classList.contains&&(t.arr[s-1][a-1].classList.contains("miss")||(t.arr[s-1][a-1].classList.add("miss"),r(s-1,a-1))),t.arr[s-1][a-1].id>0&&(t.arr[s-1][a-1].innerHTML=t.arr[s-1][a-1].id,t.arr[s-1][a-1].classList.add("number"))),s-1!=-1&&a+1!=15&&(t.arr[s-1][a+1].classList.contains("flag")||0==t.arr[s-1][a+1].id&&"bomb"!=t.arr[s-1][a+1].classList.contains&&(t.arr[s-1][a+1].classList.contains("miss")||(t.arr[s-1][a+1].classList.add("miss"),r(s-1,a+1))),t.arr[s-1][a+1].id>0&&(t.arr[s-1][a+1].innerHTML=t.arr[s-1][a+1].id,t.arr[s-1][a+1].classList.add("number"))),s+1!=15&&a-1!=-1&&(t.arr[s+1][a-1].classList.contains("flag")||0==t.arr[s+1][a-1].id&&"bomb"!=t.arr[s+1][a-1].classList.contains&&(t.arr[s+1][a-1].classList.contains("miss")||(t.arr[s+1][a-1].classList.add("miss"),r(s+1,a-1))),t.arr[s+1][a-1].id>0&&(t.arr[s+1][a-1].innerHTML=t.arr[s+1][a-1].id,t.arr[s+1][a-1].classList.add("number")));for(let r=0;r<t.arr.length;r++)for(let s=0;s<t.arr.length;s++)t.arr[r][s].classList.contains("flag")&&(t.arr[r][s].classList.remove("number"),t.arr[r][s].innerHTML="")};var d=function(){let r=t.arr.length*t.arr.length;for(let s=0;s<t.arr.length;s++)for(let a=0;a<t.arr.length;a++)t.arr[s][a].classList.contains("bomb")&&t.arr[s][a].classList.contains("flag")&&r--,(t.arr[s][a].classList.contains("miss")||t.arr[s][a].classList.contains("number"))&&(r--,0==r&&(document.querySelector(".bgdModalForWin").style.visibility="visible",document.querySelector(".sapperDiv").style.pointerEvents="none"))};var u=function(){for(let r=0;r<t.arr.length;r++)for(let s=0;s<t.arr.length;s++)t.arr[r][s].onclick=function(){if(t.arr[r][s].classList.contains("bomb")){if(t.arr[r][s].classList.contains("flag"))return;document.querySelector(".bgdModalForLosses").style.visibility="visible",c()}t.arr[r][s].id>0&&(t.arr[r][s].innerHTML=t.arr[r][s].id,t.arr[r][s].classList.add("number"),d()),0==t.arr[r][s].id&&"bomb"!=t.arr[r][s].classList.contains&&(t.arr[r][s].classList.add("miss"),l(r,s))}};var b=function(){for(let r=0;r<t.arr.length;r++)for(let s=0;s<t.arr.length;s++)t.arr[r][s].oncontextmenu=function(a){a.preventDefault(),t.arr[r][s].classList.contains("number")||t.arr[r][s].classList.contains("miss")||(t.arr[r][s].classList.contains("flag")?(t.arr[r][s].classList.remove("flag"),t.flag++):t.flag>=1&&(t.arr[r][s].classList.add("flag"),t.flag--),n.innerHTML=`Кол-во флажков осталось: ${t.flag}`,0==t.flag&&d())}};(function(){for(let r=0;r<t.size;r++){let r=document.createElement("div");i.appendChild(r);let s=[];for(let a=0;a<t.size;a++){let a=document.createElement("div");a.className="DIv",a.id="",r.appendChild(a),s.push(a)}t.arr.push(s)}n.innerHTML=`Кол-во флажков осталось: ${t.flag}`})(),o(),e(),u(),document.querySelector(".btn2").onclick=function(){document.querySelector(".bgdModalForWin").style.visibility="hidden"},document.querySelector(".btn3").onclick=function(){document.querySelector(".bgdModalForLosses").style.visibility="hidden"},document.querySelector(".btn1").onclick=function(){location.reload()},document.querySelector(".btn4").onclick=function(){location.reload()},b()}]);